<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Group Project</title>
    
  </head>

  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        //This is just a placeholer, Led Zeppeling will be replaced with user input
      let search = "Led Zeppelin";

      var settings = {
        async: true,
        crossDomain: true,
        url: "https://deezerdevs-deezer.p.rapidapi.com/search?q=" + search,
        method: "GET",
        headers: {
          "x-rapidapi-host": "deezerdevs-deezer.p.rapidapi.com",
          "x-rapidapi-key": "167f03e5a5mshd9300ee33644670p1f52ebjsn3544f088cb90"
        }
      };

      let artistPic = "";
      let artistName = "";

      let songTitle1= "";
      let clip1 = "";
      let cover1 = "";

      let songTitle2= "";
      let clip2 = "";
      let cover2 = "";

      let songTitle3= "";
      let clip3 = "";
      let cover3 = "";

      $.ajax(settings).done(function(response) {

        console.log(response);
         
        console.log("Song Title of first song listed: " + response.data[0].title);
        
        console.log("Link to Deezer Page to Play Song: " + response.data[0].link);

        console.log("MP3 link to 30 second clip: " + response.data[0].preview);

        console.log("Associated album cover: " + response.data[0].album.cover);

        console.log("Artist picture: " + response.data[0].artist.picture);

        console.log("Artist name: " + response.data[0].artist.name);


        artistName = response.data[0].artist.name;
        $("#artist-name").text(artistName);

        artistPic = response.data[0].artist.picture;
        $("#artist-pic").attr("src", artistPic);

        clip1 = response.data[0].preview;
        songTitle1 = response.data[0].title;
        cover1 = response.data[0].album.cover;
        $("#song-title1").text(songTitle1);
        $("#audio-source1").attr("src", clip1);
        $("#cover-pic1").attr("src", cover1);

        clip2 = response.data[1].preview;
        songTitle2 = response.data[1].title;
        cover2 = response.data[1].album.cover;
        $("#song-title2").text(songTitle2);
        $("#audio-source2").attr("src", clip2);
        $("#cover-pic2").attr("src", cover2);

        clip3 = response.data[2].preview;
        songTitle3 = response.data[2].title;
        cover3 = response.data[2].album.cover;
        $("#song-title3").text(songTitle3);
        $("#audio-source3").attr("src", clip3);
        $("#cover-pic3").attr("src", cover3);

      });
      

    </script>

    <h1 id="artist-name"></h1>
    <img id="artist-pic" src="">

    <hr>

    <h3 id="song-title1"></h3>
    <img id="cover-pic1" src="">
    <audio id="audio-source1" src="" controls>	
      <p></p>
      </audio>

      <hr>

      <h3 id="song-title2"></h3>
      <img id="cover-pic2" src="">
    <audio id="audio-source2" src="" controls>	
      <p></p>
      </audio>

      <hr>
      
      <h3 id="song-title3"></h3>
      <img id="cover-pic3" src="">
    <audio id="audio-source3" src="" controls>	
      <p></p>
      </audio>

      <hr>
  </body>
</html>
